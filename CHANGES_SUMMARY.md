# Сводка изменений в форме создания AR-контента

## Проблема
При открытии формы создания нового AR-контента (`/ar-content/new`) возникала ошибка:
```
MUI: You have provided an out-of-range value `1` for the select component.
Consider providing a value that matches one of the available options or ''.
The available values are "".
```

Эта ошибка происходила потому, что в состоянии формы жестко устанавливался `companyId: 1`, но список компаний еще не был загружен, поэтому компонент Select не мог найти соответствующее значение в списке опций.

## Внесенные изменения

### 1. Исправлено начальное состояние формы
Файл: `frontend/src/pages/ar-content/ARContentForm.tsx`

Было:
```typescript
companyId: 1, // Default to Vertex AR
```

Стало:
```typescript
companyId: companyId ? parseInt(companyId) : null, // Will be set to default company after loading
```

### 2. Добавлена обработка параметров URL
Добавлено получение параметра `companyId` из URL:
```typescript
const { projectId, companyId } = useParams<{ projectId: string; companyId: string }>();
```

### 3. Улучшена логика загрузки компаний и проектов
Обновлен эффект загрузки данных:
- Теперь учитывается параметр `companyId` из URL
- Если `companyId` не указан в URL, выбирается компания по умолчанию (Vertex AR)
- Добавлена проверка наличия projectId в списке проектов компании
- Если projectId не найден в списке проектов, он сбрасывается

### 4. Обновлены зависимости эффектов
Добавлены зависимости от параметров URL:
```typescript
}, [companyId, projectId]); // Depend on companyId and projectId from URL params
```

### 5. Улучшена обработка изменения компании
Когда пользователь меняет компанию в выпадающем списке:
- Список проектов автоматически обновляется для выбранной компании
- Выбор проекта сбрасывается, чтобы избежать недопустимых значений

## Результат
- Ошибка "out-of-range value" устранена
- Форма корректно работает как при переходе по URL `/ar-content/new`, так и при переходе по URL `/projects/:projectId/content/new`
- Автоматически выбирается компания по умолчанию (Vertex AR), если не указана конкретная компания
- При изменении компании список проектов корректно обновляется
- При указании несуществующего projectId он корректно сбрасывается

## Тестирование
Изменения были протестированы в следующих сценариях:
1. Открытие формы по URL `/ar-content/new` - успешно, компания по умолчанию выбрана
2. Открытие формы по URL `/projects/:projectId/content/new` - успешно, выбрана соответствующая компания
3. Изменение компании в выпадающем списке - успешно, список проектов обновляется
4. Указание несуществующего projectId - успешно, значение сбрасывается

## Совместимость
Внесенные изменения обратно совместимы и не ломают существующую функциональность:
- Все существующие маршруты продолжают работать
- Логика создания AR-контента остается прежней
- API-вызовы не изменены