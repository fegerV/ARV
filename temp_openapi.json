{"openapi":"3.1.0","info":{"title":"Vertex AR B2B Platform","description":"B2B SaaS platform for creating AR content based on image recognition (NFT markers)","contact":{"name":"Vertex AR Support","url":"https://vertexar.com/support","email":"support@vertexar.com"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0.html"},"version":"0.1.0"},"paths":{"/api/auth/login":{"post":{"tags":["Authentication","auth"],"summary":"Login","description":"Authenticate admin user with rate limiting","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_api_auth_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/logout":{"post":{"tags":["Authentication","auth"],"summary":"Logout","description":"Logout user (JWT is stateless, just log the event)","operationId":"logout_api_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/auth/me":{"get":{"tags":["Authentication","auth"],"summary":"Read Users Me","description":"Get current user info","operationId":"read_users_me_api_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/auth/register":{"post":{"tags":["Authentication","auth"],"summary":"Register User","description":"Register a new user (admin only)","operationId":"register_user_api_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/companies":{"get":{"tags":["Companies","companies"],"summary":"List Companies","description":"List companies with pagination and filtering","operationId":"list_companies_api_companies_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of items per page","default":20,"title":"Page Size"},"description":"Number of items per page"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search by name or email","title":"Search"},"description":"Search by name or email"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedCompaniesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Companies","companies"],"summary":"Create Company","description":"Create a new company","operationId":"create_company_api_companies_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/companies/{company_id}":{"get":{"tags":["Companies","companies"],"summary":"Get Company","description":"Get detailed company information","operationId":"get_company_api_companies__company_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Companies","companies"],"summary":"Update Company","description":"Update company information","operationId":"update_company_api_companies__company_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Companies","companies"],"summary":"Delete Company","description":"Delete a company (with dependency checks)","operationId":"delete_company_api_companies__company_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/projects":{"get":{"tags":["Projects","projects"],"summary":"List Projects","description":"List projects with pagination and filtering","operationId":"list_projects_api_projects_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of items per page","default":20,"title":"Page Size"},"description":"Number of items per page"},{"name":"company_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by company ID","title":"Company Id"},"description":"Filter by company ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedProjectsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Projects","projects"],"summary":"Create Project General","description":"Create a new project","operationId":"create_project_general_api_projects_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/companies/{company_id}/projects":{"get":{"tags":["Projects","projects"],"summary":"List Projects For Company","description":"List projects for a specific company","operationId":"list_projects_for_company_api_companies__company_id__projects_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of items per page","default":20,"title":"Page Size"},"description":"Number of items per page"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedProjectsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Projects","projects"],"summary":"Create Project","description":"Create a new project within a specific company","operationId":"create_project_api_companies__company_id__projects_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/projects/{project_id}":{"get":{"tags":["Projects","projects"],"summary":"Get Project General","description":"Get detailed project information","operationId":"get_project_general_api_projects__project_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Projects","projects"],"summary":"Update Project General","description":"Update project information","operationId":"update_project_general_api_projects__project_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Projects","projects"],"summary":"Delete Project General","description":"Delete a project (with dependency checks)","operationId":"delete_project_general_api_projects__project_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/companies/{company_id}/projects/{project_id}":{"get":{"tags":["Projects","projects"],"summary":"Get Project","description":"Get detailed project information within a specific company","operationId":"get_project_api_companies__company_id__projects__project_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}},{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Projects","projects"],"summary":"Update Project","description":"Update project information within a specific company","operationId":"update_project_api_companies__company_id__projects__project_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}},{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Projects","projects"],"summary":"Delete Project","description":"Delete a project (with dependency checks) within a specific company","operationId":"delete_project_api_companies__company_id__projects__project_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}},{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ar-content/":{"get":{"tags":["AR Content","AR Content","AR Content"],"summary":"List All Ar Content","description":"List all AR content across all companies and projects.","operationId":"list_all_ar_content_api_ar_content__get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Number of items per page","default":100,"title":"Page Size"},"description":"Number of items per page"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ARContentList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["AR Content","AR Content","AR Content"],"summary":"Create Ar Content","description":"Create new AR content with photo and video files.","operationId":"create_ar_content_api_ar_content__post","requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_ar_content_api_ar_content__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ARContentCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ar-content":{"get":{"tags":["AR Content","AR Content","AR Content"],"summary":"List All Ar Content No Slash","description":"List all AR content across all companies and projects (route without trailing slash for compatibility).","operationId":"list_all_ar_content_no_slash_api_ar_content_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Number of items per page","default":100,"title":"Page Size"},"description":"Number of items per page"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ARContentList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ar-content/companies/{company_id}/projects/{project_id}/ar-content":{"get":{"tags":["AR Content","AR Content","AR Content"],"summary":"List Ar Content","description":"List AR content for a specific project within a company.","operationId":"list_ar_content_api_ar_content_companies__company_id__projects__project_id__ar_content_get","parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}},{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Number of items per page","default":100,"title":"Page Size"},"description":"Number of items per page"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ARContentList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ar-content/companies/{company_id}/projects/{project_id}/ar-content/{content_id}":{"get":{"tags":["AR Content","AR Content","AR Content"],"summary":"Get Ar Content","description":"Get full AR content metadata including all URLs and videos.","operationId":"get_ar_content_api_ar_content_companies__company_id__projects__project_id__ar_content__content_id__get","parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}},{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"content_id","in":"path","required":true,"schema":{"type":"integer","title":"Content Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ARContentWithLinks"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["AR Content","AR Content","AR Content"],"summary":"Update Ar Content","description":"Update mutable AR content metadata (never changes unique_id or QR code).","operationId":"update_ar_content_api_ar_content_companies__company_id__projects__project_id__ar_content__content_id__put","parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}},{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"content_id","in":"path","required":true,"schema":{"type":"integer","title":"Content Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArContentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ARContent"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["AR Content","AR Content","AR Content"],"summary":"Delete Ar Content","description":"Delete AR content and its storage folder.","operationId":"delete_ar_content_api_ar_content_companies__company_id__projects__project_id__ar_content__content_id__delete","parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}},{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"content_id","in":"path","required":true,"schema":{"type":"integer","title":"Content Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ar-content/companies/{company_id}/projects/{project_id}/ar-content/{content_id}/video":{"patch":{"tags":["AR Content","AR Content","AR Content"],"summary":"Update Ar Content Video","description":"Replace the video for AR content without changing unique_id or QR code.","operationId":"update_ar_content_video_api_ar_content_companies__company_id__projects__project_id__ar_content__content_id__video_patch","parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}},{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"content_id","in":"path","required":true,"schema":{"type":"integer","title":"Content Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_update_ar_content_video_api_ar_content_companies__company_id__projects__project_id__ar_content__content_id__video_patch"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ARContent"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ar-content/{content_id}":{"get":{"tags":["AR Content","AR Content","AR Content"],"summary":"Get Ar Content By Id","description":"Get AR content by ID without requiring company/project context (for compatibility)","operationId":"get_ar_content_by_id_api_ar_content__content_id__get","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"integer","title":"Content Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ARContentWithLinks"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/storage/connections":{"post":{"tags":["Storage"],"summary":"Create Connection","description":"Create a new local storage connection.","operationId":"create_connection_api_storage_connections_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StorageConnectionCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Storage"],"summary":"List Storage Connections","description":"List local storage connections with optional filtering.\nReturns safe metadata without exposing sensitive information.","operationId":"list_storage_connections_api_storage_connections_get","parameters":[{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by active status","title":"Is Active"},"description":"Filter by active status"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/storage/connections/{connection_id}/test":{"post":{"tags":["Storage"],"summary":"Test Connection","description":"Test a storage connection.","operationId":"test_connection_api_storage_connections__connection_id__test_post","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/storage/connections/{connection_id}/stats":{"get":{"tags":["Storage"],"summary":"Get Storage Stats","description":"Get storage usage statistics for a connection.","operationId":"get_storage_stats_api_storage_connections__connection_id__stats_get","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}},{"name":"path","in":"query","required":false,"schema":{"type":"string","default":"","title":"Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/storage/companies/{company_id}/storage":{"put":{"tags":["Storage"],"summary":"Set Company Storage","description":"Set storage configuration for a company.","operationId":"set_company_storage_api_storage_companies__company_id__storage_put","parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}},{"name":"storage_connection_id","in":"query","required":false,"schema":{"type":"integer","title":"Storage Connection Id"}},{"name":"storage_path","in":"query","required":false,"schema":{"type":"string","title":"Storage Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/analytics/overview":{"get":{"tags":["Analytics"],"summary":"Analytics Overview","operationId":"analytics_overview_api_analytics_analytics_overview_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/analytics/analytics/summary":{"get":{"tags":["Analytics"],"summary":"Analytics Summary","operationId":"analytics_summary_api_analytics_analytics_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/analytics/analytics/companies/{company_id}":{"get":{"tags":["Analytics"],"summary":"Analytics Company","operationId":"analytics_company_api_analytics_analytics_companies__company_id__get","parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/analytics/company/{company_id}":{"get":{"tags":["Analytics"],"summary":"Analytics Company Alias","operationId":"analytics_company_alias_api_analytics_analytics_company__company_id__get","parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"integer","title":"Company Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/analytics/projects/{project_id}":{"get":{"tags":["Analytics"],"summary":"Analytics Project","operationId":"analytics_project_api_analytics_analytics_projects__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/analytics/ar-content/{content_id}":{"get":{"tags":["Analytics"],"summary":"Analytics Content","operationId":"analytics_content_api_analytics_analytics_ar_content__content_id__get","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"integer","title":"Content Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/analytics/ar-session":{"post":{"tags":["Analytics"],"summary":"Track Ar Session","description":"Legacy endpoint kept for compatibility.\n\nIMPORTANT: ARViewSession uses UUID FK fields; do not write sentinel 0 values.","operationId":"track_ar_session_api_analytics_analytics_ar_session_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/mobile/sessions":{"post":{"tags":["Analytics"],"summary":"Mobile Session Start","description":"Create AR mobile/browser session (minimal REST).","operationId":"mobile_session_start_api_analytics_mobile_sessions_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/mobile/analytics":{"post":{"tags":["Analytics"],"summary":"Mobile Analytics Update","description":"Update session analytics (minimal REST).","operationId":"mobile_analytics_update_api_analytics_mobile_analytics_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications/notifications":{"get":{"tags":["Notifications"],"summary":"List Notifications","operationId":"list_notifications_api_notifications_notifications_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications/notifications/mark-read":{"post":{"tags":["Notifications"],"summary":"Mark Notifications Read","operationId":"mark_notifications_read_api_notifications_notifications_mark_read_post","requestBody":{"content":{"application/json":{"schema":{"items":{"type":"integer"},"type":"array","title":"Ids"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationMarkReadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/notifications/notifications/{notification_id}":{"delete":{"tags":["Notifications"],"summary":"Delete Notification","operationId":"delete_notification_api_notifications_notifications__notification_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"notification_id","in":"path","required":true,"schema":{"type":"integer","title":"Notification Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications/notifications/test":{"post":{"tags":["Notifications"],"summary":"Test Notification","operationId":"test_notification_api_notifications_notifications_test_post","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string","title":"Email"}},{"name":"chat_id","in":"query","required":true,"schema":{"type":"string","title":"Chat Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rotation/ar-content/{content_id}/rotation":{"post":{"tags":["Rotation"],"summary":"Set Rotation","operationId":"set_rotation_api_rotation_ar_content__content_id__rotation_post","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"integer","title":"Content Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rotation/rotation/{schedule_id}":{"put":{"tags":["Rotation"],"summary":"Update Rotation","operationId":"update_rotation_api_rotation_rotation__schedule_id__put","parameters":[{"name":"schedule_id","in":"path","required":true,"schema":{"type":"integer","title":"Schedule Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Rotation"],"summary":"Delete Rotation","operationId":"delete_rotation_api_rotation_rotation__schedule_id__delete","parameters":[{"name":"schedule_id","in":"path","required":true,"schema":{"type":"integer","title":"Schedule Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rotation/ar-content/{content_id}/rotation/sequence":{"post":{"tags":["Rotation"],"summary":"Set Rotation Sequence","description":"Set or update the video sequence for a content's rotation schedule.","operationId":"set_rotation_sequence_api_rotation_ar_content__content_id__rotation_sequence_post","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"integer","title":"Content Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rotation/ar-content/{content_id}/rotation/calendar":{"get":{"tags":["Rotation"],"summary":"Rotation Calendar","description":"Return a naive calendar of planned videos for the given month (YYYY-MM).\nDate-specific per-video schedules override rotation sequence; otherwise daily cycle modulo.","operationId":"rotation_calendar_api_rotation_ar_content__content_id__rotation_calendar_get","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"integer","title":"Content Id"}},{"name":"month","in":"query","required":true,"schema":{"type":"string","title":"Month"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/oauth/authorize":{"get":{"tags":["OAuth","oauth"],"summary":"Initiate Yandex Oauth","description":"Шаг 1: Инициация OAuth авторизации с Яндекс Диском (popup)","operationId":"initiate_yandex_oauth_api_oauth_authorize_get","parameters":[{"name":"connection_name","in":"query","required":true,"schema":{"type":"string","description":"Название подключения","title":"Connection Name"},"description":"Название подключения"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/oauth/callback":{"get":{"tags":["OAuth","oauth"],"summary":"Yandex Oauth Callback","description":"Шаг 2: Callback после авторизации пользователя","operationId":"yandex_oauth_callback_api_oauth_callback_get","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}},{"name":"state","in":"query","required":true,"schema":{"type":"string","title":"State"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/oauth/{connection_id}/folders":{"get":{"tags":["OAuth","oauth"],"summary":"List Yandex Folders","description":"Получение списка папок в Яндекс Диске (для file picker)","operationId":"list_yandex_folders_api_oauth__connection_id__folders_get","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}},{"name":"path","in":"query","required":false,"schema":{"type":"string","description":"Путь в Яндекс Диске","default":"/","title":"Path"},"description":"Путь в Яндекс Диске"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/oauth/{connection_id}/create-folder":{"post":{"tags":["OAuth","oauth"],"summary":"Create Yandex Folder","description":"Создание новой папки в Яндекс Диске","operationId":"create_yandex_folder_api_oauth__connection_id__create_folder_post","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"integer","title":"Connection Id"}},{"name":"folder_path","in":"query","required":true,"schema":{"type":"string","description":"Путь новой папки","title":"Folder Path"},"description":"Путь новой папки"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/public/ar/{unique_id}/content":{"get":{"tags":["Public"],"summary":"Get Public Ar Content","description":"Get public AR content data for the viewer template.","operationId":"get_public_ar_content_api_public_ar__unique_id__content_get","parameters":[{"name":"unique_id","in":"path","required":true,"schema":{"type":"string","title":"Unique Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/public/ar-content/{unique_id}":{"get":{"tags":["Public"],"summary":"Get Public Ar Content Redirect","description":"Alias endpoint for /ar/{unique_id}/content for cleaner URLs.","operationId":"get_public_ar_content_redirect_api_public_ar_content__unique_id__get","parameters":[{"name":"unique_id","in":"path","required":true,"schema":{"type":"string","title":"Unique Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/settings/settings":{"get":{"tags":["Settings"],"summary":"Get Settings","operationId":"get_settings_api_settings_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/viewer/viewer/{ar_content_id}/active-video":{"get":{"tags":["Viewer"],"summary":"Get Viewer Active Video","description":"Get the active video for AR content viewer with metadata.\n\nThis endpoint implements the video selection logic:\n1. Prefer video with active schedule window\n2. Honor rotation_type (none -> active video, sequential -> advance, cyclic -> wrap)\n3. Skip videos with expired subscriptions\n4. Return metadata about selection source and expiration","operationId":"get_viewer_active_video_api_viewer_viewer__ar_content_id__active_video_get","parameters":[{"name":"ar_content_id","in":"path","required":true,"schema":{"type":"integer","title":"Ar Content Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/viewer/ar/{unique_id}/active-video":{"get":{"tags":["Viewer"],"summary":"Get Viewer Active Video By Unique Id","description":"Get the active video for AR viewer by ARContent.unique_id.","operationId":"get_viewer_active_video_by_unique_id_api_viewer_ar__unique_id__active_video_get","parameters":[{"name":"unique_id","in":"path","required":true,"schema":{"type":"string","title":"Unique Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/ar-content/{content_id}/videos":{"post":{"tags":["Videos"],"summary":"Upload Videos","description":"Upload one or multiple videos for AR content.\n\nArgs:\n    content_id: AR content ID\n    videos: List of video files to upload\n    db: Database session\n    \nReturns:\n    List of created video objects with metadata","operationId":"upload_videos_api_videos_ar_content__content_id__videos_post","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"string","title":"Content Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_videos_api_videos_ar_content__content_id__videos_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Videos"],"summary":"List Videos","description":"Get all videos for AR content with computed status and schedule info.","operationId":"list_videos_api_videos_ar_content__content_id__videos_get","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"string","title":"Content Id"}},{"name":"include_schedules","in":"query","required":false,"schema":{"type":"boolean","description":"Include full schedule details","default":false,"title":"Include Schedules"},"description":"Include full schedule details"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VideoStatusResponse"},"title":"Response List Videos Api Videos Ar Content  Content Id  Videos Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/ar-content/{content_id}/videos/{video_id}/set-active":{"patch":{"tags":["Videos"],"summary":"Set Video Active","description":"Atomically set a video as the active one for AR content.","operationId":"set_video_active_api_videos_ar_content__content_id__videos__video_id__set_active_patch","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"string","title":"Content Id"}},{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoSetActiveResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/ar-content/{content_id}/videos/{video_id}/subscription":{"patch":{"tags":["Videos"],"summary":"Update Video Subscription","description":"Update video subscription end date.","operationId":"update_video_subscription_api_videos_ar_content__content_id__videos__video_id__subscription_patch","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"string","title":"Content Id"}},{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoSubscriptionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/ar-content/{content_id}/videos/{video_id}/rotation":{"patch":{"tags":["Videos"],"summary":"Update Video Rotation","description":"Update video rotation type and reset rotation state.","operationId":"update_video_rotation_api_videos_ar_content__content_id__videos__video_id__rotation_patch","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"string","title":"Content Id"}},{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoRotationUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/ar-content/{content_id}/videos/{video_id}/schedules":{"get":{"tags":["Videos"],"summary":"List Video Schedules","description":"Get all schedules for a video.","operationId":"list_video_schedules_api_videos_ar_content__content_id__videos__video_id__schedules_get","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"string","title":"Content Id"}},{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VideoSchedule"},"title":"Response List Video Schedules Api Videos Ar Content  Content Id  Videos  Video Id  Schedules Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Videos"],"summary":"Create Video Schedule","description":"Create a new schedule for a video.","operationId":"create_video_schedule_api_videos_ar_content__content_id__videos__video_id__schedules_post","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"string","title":"Content Id"}},{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoScheduleCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoSchedule"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/ar-content/{content_id}/videos/{video_id}/schedules/{schedule_id}":{"patch":{"tags":["Videos"],"summary":"Update Video Schedule","description":"Update an existing schedule.","operationId":"update_video_schedule_api_videos_ar_content__content_id__videos__video_id__schedules__schedule_id__patch","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"string","title":"Content Id"}},{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}},{"name":"schedule_id","in":"path","required":true,"schema":{"type":"string","title":"Schedule Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoScheduleUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoSchedule"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Videos"],"summary":"Delete Video Schedule","description":"Delete a schedule.","operationId":"delete_video_schedule_api_videos_ar_content__content_id__videos__video_id__schedules__schedule_id__delete","parameters":[{"name":"content_id","in":"path","required":true,"schema":{"type":"string","title":"Content Id"}},{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}},{"name":"schedule_id","in":"path","required":true,"schema":{"type":"string","title":"Schedule Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/videos/{video_id}":{"put":{"tags":["Videos"],"summary":"Update Video","description":"Legacy endpoint - use specific PATCH endpoints instead.","operationId":"update_video_api_videos_videos__video_id__put","parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Videos"],"summary":"Delete Video","description":"Delete a video and all its schedules.","operationId":"delete_video_api_videos_videos__video_id__delete","parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/health/status":{"get":{"tags":["Health","Health"],"summary":"Health Status","description":"Расширенный health check endpoint","operationId":"health_status_api_health_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/health/metrics":{"get":{"tags":["Health","Health"],"summary":"Prometheus Metrics","description":"Prometheus metrics endpoint.","operationId":"prometheus_metrics_api_health_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/favicon.ico":{"get":{"summary":"Favicon","description":"Serve favicon.","operationId":"favicon_favicon_ico_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/{full_path}":{"get":{"summary":"Serve Frontend","description":"Serve the frontend application for any unmatched routes (enables client-side routing).","operationId":"serve_frontend__full_path__get","parameters":[{"name":"full_path","in":"path","required":true,"schema":{"type":"string","title":"Full Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"ARContent":{"properties":{"id":{"type":"integer","title":"Id"},"order_number":{"type":"string","title":"Order Number"},"project_id":{"type":"integer","title":"Project Id"},"company_id":{"type":"integer","title":"Company Id"},"customer_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Name"},"customer_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Phone"},"customer_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Email"},"duration_years":{"type":"integer","title":"Duration Years"},"views_count":{"type":"integer","title":"Views Count"},"status":{"type":"string","title":"Status"},"active_video_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Active Video Id"},"public_link":{"type":"string","title":"Public Link"},"qr_code_url":{"type":"string","title":"Qr Code Url"},"photo_url":{"type":"string","title":"Photo Url"},"video_url":{"type":"string","title":"Video Url"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"}},"type":"object","required":["id","order_number","project_id","company_id","duration_years","views_count","status","public_link","qr_code_url","photo_url","video_url","created_at","updated_at"],"title":"ARContent","description":"Alias for ArContentResponse for backward compatibility"},"ARContentCreateResponse":{"properties":{"id":{"type":"integer","title":"Id"},"order_number":{"type":"string","title":"Order Number"},"public_link":{"type":"string","title":"Public Link"},"qr_code_url":{"type":"string","title":"Qr Code Url"},"photo_url":{"type":"string","title":"Photo Url"},"video_url":{"type":"string","title":"Video Url"}},"type":"object","required":["id","order_number","public_link","qr_code_url","photo_url","video_url"],"title":"ARContentCreateResponse","description":"Schema for AR content creation response"},"ARContentList":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ArContentResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total","description":"Total number of AR content items"},"page":{"type":"integer","title":"Page","description":"Current page number"},"page_size":{"type":"integer","title":"Page Size","description":"Number of items per page"},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages"}},"type":"object","required":["items","total","page","page_size","total_pages"],"title":"ARContentList","description":"Schema for AR content list response"},"ARContentWithLinks":{"properties":{"id":{"type":"integer","title":"Id"},"order_number":{"type":"string","title":"Order Number"},"public_link":{"type":"string","title":"Public Link"},"qr_code_url":{"type":"string","title":"Qr Code Url"},"photo_url":{"type":"string","title":"Photo Url"},"video_url":{"type":"string","title":"Video Url"},"views_count":{"type":"integer","title":"Views Count"},"status":{"type":"string","title":"Status"},"videos":{"items":{"$ref":"#/components/schemas/VideoResponse"},"type":"array","title":"Videos","default":[]},"active_video":{"anyOf":[{"$ref":"#/components/schemas/VideoResponse"},{"type":"null"}]}},"type":"object","required":["id","order_number","public_link","qr_code_url","photo_url","video_url","views_count","status"],"title":"ARContentWithLinks","description":"Schema for AR content with additional links"},"ArContentResponse":{"properties":{"id":{"type":"integer","title":"Id"},"order_number":{"type":"string","title":"Order Number"},"project_id":{"type":"integer","title":"Project Id"},"company_id":{"type":"integer","title":"Company Id"},"customer_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Name"},"customer_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Phone"},"customer_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Email"},"duration_years":{"type":"integer","title":"Duration Years"},"views_count":{"type":"integer","title":"Views Count"},"status":{"type":"string","title":"Status"},"active_video_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Active Video Id"},"public_link":{"type":"string","title":"Public Link"},"qr_code_url":{"type":"string","title":"Qr Code Url"},"photo_url":{"type":"string","title":"Photo Url"},"video_url":{"type":"string","title":"Video Url"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"}},"type":"object","required":["id","order_number","project_id","company_id","duration_years","views_count","status","public_link","qr_code_url","photo_url","video_url","created_at","updated_at"],"title":"ArContentResponse"},"ArContentStatus":{"type":"string","enum":["pending","active","archived"],"title":"ArContentStatus","description":"AR Content status enum"},"ArContentUpdate":{"properties":{"customer_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Name"},"customer_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Phone"},"customer_email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Customer Email"},"status":{"anyOf":[{"$ref":"#/components/schemas/ArContentStatus"},{"type":"null"}]},"duration_years":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Years"}},"type":"object","title":"ArContentUpdate"},"Body_create_ar_content_api_ar_content__post":{"properties":{"company_id":{"type":"integer","title":"Company Id"},"project_id":{"type":"integer","title":"Project Id"},"customer_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Name"},"customer_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Phone"},"customer_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Email"},"duration_years":{"type":"integer","title":"Duration Years"},"photo_file":{"type":"string","format":"binary","title":"Photo File"},"video_file":{"type":"string","format":"binary","title":"Video File"}},"type":"object","required":["company_id","project_id","duration_years","photo_file","video_file"],"title":"Body_create_ar_content_api_ar_content__post"},"Body_login_api_auth_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_api_auth_login_post"},"Body_update_ar_content_video_api_ar_content_companies__company_id__projects__project_id__ar_content__content_id__video_patch":{"properties":{"video":{"type":"string","format":"binary","title":"Video"}},"type":"object","required":["video"],"title":"Body_update_ar_content_video_api_ar_content_companies__company_id__projects__project_id__ar_content__content_id__video_patch"},"Body_upload_videos_api_videos_ar_content__content_id__videos_post":{"properties":{"videos":{"items":{"type":"string","format":"binary"},"type":"array","title":"Videos"}},"type":"object","required":["videos"],"title":"Body_upload_videos_api_videos_ar_content__content_id__videos_post"},"CompanyCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Company name"},"contact_email":{"type":"string","format":"email","title":"Contact Email","description":"Contact email address"},"status":{"anyOf":[{"$ref":"#/components/schemas/CompanyStatus"},{"type":"null"}],"description":"Company status","default":"active"}},"type":"object","required":["name","contact_email"],"title":"CompanyCreate","description":"Schema for creating a new company"},"CompanyDetail":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"contact_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Email"},"storage_provider":{"type":"string","title":"Storage Provider","description":"Storage provider (always 'Local')","default":"Local"},"status":{"$ref":"#/components/schemas/CompanyStatus"},"projects_count":{"type":"integer","title":"Projects Count","description":"Number of projects for this company"},"ar_content_count":{"type":"integer","title":"Ar Content Count","description":"Total AR content across all projects"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","name","contact_email","status","projects_count","ar_content_count","created_at"],"title":"CompanyDetail","description":"Schema for detailed company response"},"CompanyListItem":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"contact_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Email"},"storage_provider":{"type":"string","title":"Storage Provider","description":"Storage provider (always 'Local')","default":"Local"},"status":{"$ref":"#/components/schemas/CompanyStatus"},"projects_count":{"type":"integer","title":"Projects Count","description":"Number of projects for this company"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","name","contact_email","status","projects_count","created_at"],"title":"CompanyListItem","description":"Schema for company list item response"},"CompanyStatus":{"type":"string","enum":["active","inactive"],"title":"CompanyStatus","description":"Company status enum"},"CompanyUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name","description":"Company name"},"contact_email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Contact Email","description":"Contact email address"},"status":{"anyOf":[{"$ref":"#/components/schemas/CompanyStatus"},{"type":"null"}],"description":"Company status"}},"type":"object","title":"CompanyUpdate","description":"Schema for updating an existing company"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"NotificationDeleteResponse":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"message":{"type":"string","title":"Message","default":"Notification deleted"}},"type":"object","title":"NotificationDeleteResponse","description":"Response for deleting a notification."},"NotificationItem":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"},"type":{"type":"string","title":"Type"},"is_read":{"type":"boolean","title":"Is Read"},"read_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Read At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["id","title","message","type","is_read","created_at"],"title":"NotificationItem","description":"Single notification item."},"NotificationListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/NotificationItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["items","total","page","page_size","total_pages"],"title":"NotificationListResponse","description":"Paginated notifications list response."},"NotificationMarkReadResponse":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"message":{"type":"string","title":"Message","default":"Notification marked as read"}},"type":"object","title":"NotificationMarkReadResponse","description":"Response for marking notification as read."},"PaginatedCompaniesResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/CompanyListItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total","description":"Total number of companies"},"page":{"type":"integer","title":"Page","description":"Current page number"},"page_size":{"type":"integer","title":"Page Size","description":"Number of items per page"},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages"}},"type":"object","required":["items","total","page","page_size","total_pages"],"title":"PaginatedCompaniesResponse","description":"Schema for paginated companies list response"},"PaginatedProjectsResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ProjectListItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total","description":"Total number of projects"},"page":{"type":"integer","title":"Page","description":"Current page number"},"page_size":{"type":"integer","title":"Page Size","description":"Number of items per page"},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages"}},"type":"object","required":["items","total","page","page_size","total_pages"],"title":"PaginatedProjectsResponse","description":"Schema for paginated projects list response"},"ProjectCreate":{"properties":{"company_id":{"type":"string","title":"Company Id","description":"Company ID"},"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Project name"},"status":{"anyOf":[{"$ref":"#/components/schemas/ProjectStatus"},{"type":"null"}],"description":"Project status","default":"active"}},"type":"object","required":["company_id","name"],"title":"ProjectCreate","description":"Schema for creating a new project"},"ProjectDetail":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"status":{"$ref":"#/components/schemas/ProjectStatus"},"company_id":{"type":"string","title":"Company Id"},"ar_content_count":{"type":"integer","title":"Ar Content Count","description":"Number of AR content items for this project"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","name","status","company_id","ar_content_count","created_at"],"title":"ProjectDetail","description":"Schema for detailed project response"},"ProjectListItem":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"status":{"$ref":"#/components/schemas/ProjectStatus"},"ar_content_count":{"type":"integer","title":"Ar Content Count","description":"Number of AR content items for this project"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","name","status","ar_content_count","created_at"],"title":"ProjectListItem","description":"Schema for project list item response"},"ProjectStatus":{"type":"string","enum":["active","archived"],"title":"ProjectStatus","description":"Project status enum"},"ProjectUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name","description":"Project name"},"status":{"anyOf":[{"$ref":"#/components/schemas/ProjectStatus"},{"type":"null"}],"description":"Project status"}},"type":"object","title":"ProjectUpdate","description":"Schema for updating an existing project"},"RegisterRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","minLength":8,"title":"Password","description":"Password must be at least 8 characters"},"full_name":{"type":"string","maxLength":100,"minLength":2,"title":"Full Name","description":"Full name must be between 2 and 100 characters"},"role":{"type":"string","title":"Role","default":"admin"}},"type":"object","required":["email","password","full_name"],"title":"RegisterRequest","description":"User registration request model"},"RegisterResponse":{"properties":{"user":{"$ref":"#/components/schemas/UserResponse"},"message":{"type":"string","title":"Message","default":"User created successfully"}},"type":"object","required":["user"],"title":"RegisterResponse","description":"User registration response model"},"StorageConnectionCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name"},"provider":{"type":"string","const":"local_disk","title":"Provider","default":"local_disk"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","default":{}},"base_path":{"type":"string","title":"Base Path","description":"Base path for local storage"},"is_default":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Default","default":false}},"type":"object","required":["name","base_path"],"title":"StorageConnectionCreate"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"},"user":{"$ref":"#/components/schemas/UserResponse"}},"type":"object","required":["access_token","token_type","user"],"title":"Token"},"UserResponse":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","title":"Email"},"full_name":{"type":"string","title":"Full Name"},"role":{"type":"string","title":"Role"},"last_login_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login At"}},"type":"object","required":["id","email","full_name","role"],"title":"UserResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VideoResponse":{"properties":{"id":{"type":"integer","title":"Id"},"ar_content_id":{"type":"integer","title":"Ar Content Id"},"filename":{"type":"string","title":"Filename"},"duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration"},"size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Size"},"video_status":{"type":"string","title":"Video Status"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","ar_content_id","filename","video_status","is_active","created_at"],"title":"VideoResponse"},"VideoRotationUpdate":{"properties":{"rotation_type":{"type":"string","pattern":"^(none|sequential|cyclic)$","title":"Rotation Type"}},"type":"object","required":["rotation_type"],"title":"VideoRotationUpdate"},"VideoSchedule":{"properties":{"start_time":{"type":"string","format":"date-time","title":"Start Time"},"end_time":{"type":"string","format":"date-time","title":"End Time"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"id":{"type":"string","format":"uuid","title":"Id"},"video_id":{"type":"string","format":"uuid","title":"Video Id"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["start_time","end_time","id","video_id","status","created_at","updated_at"],"title":"VideoSchedule"},"VideoScheduleCreate":{"properties":{"start_time":{"type":"string","format":"date-time","title":"Start Time"},"end_time":{"type":"string","format":"date-time","title":"End Time"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"video_id":{"type":"string","format":"uuid","title":"Video Id"}},"type":"object","required":["start_time","end_time","video_id"],"title":"VideoScheduleCreate"},"VideoScheduleUpdate":{"properties":{"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"}},"type":"object","title":"VideoScheduleUpdate"},"VideoSetActiveResponse":{"properties":{"status":{"type":"string","title":"Status"},"active_video_id":{"type":"string","format":"uuid","title":"Active Video Id"},"message":{"type":"string","title":"Message"}},"type":"object","required":["status","active_video_id","message"],"title":"VideoSetActiveResponse"},"VideoStatusResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"video_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Video Url"},"preview_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preview Url"},"is_active":{"type":"boolean","title":"Is Active"},"rotation_type":{"type":"string","title":"Rotation Type"},"subscription_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Subscription End"},"status":{"type":"string","title":"Status"},"days_remaining":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Days Remaining"},"schedules_count":{"type":"integer","title":"Schedules Count"},"schedules_summary":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Schedules Summary"}},"type":"object","required":["id","title","video_url","preview_url","is_active","rotation_type","subscription_end","status","days_remaining","schedules_count","schedules_summary"],"title":"VideoStatusResponse"},"VideoSubscriptionUpdate":{"properties":{"subscription":{"type":"string","title":"Subscription"}},"type":"object","required":["subscription"],"title":"VideoSubscriptionUpdate"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"login"}}}}}}